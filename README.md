# Streamlit Chat-based PDF Retrieval Application

## Introduction

This application is a conversational interface for document retrieval using Streamlit and OpenAI's GPT models. The user can upload a PDF document, and the application will allow the user to ask questions about the contents of that document. The application uses OpenAI's embeddings to convert text into vectors and uses FAISS (Facebook AI Similarity Search) for efficient retrieval of relevant information.

## Requirements

- Python 3.x
- Streamlit
- OpenAI's Python API
- FAISS
- PyPDF2 or other PDF reader libraries

## Installation

You can install the necessary packages using pip:

```bash
pip install streamlit
pip install openai
pip install faiss-cpu # For CPU
pip install PyPDF2
```

## Environment Variables

- `OPENAI_API_KEY`: Your OpenAI API key for access to GPT models.

## File Structure

- `main.py`: The main script that contains all the logic and UI code.
- `langchain/`: Directory containing modules for handling language models, embeddings, and vector storage.
  - `embeddings/openai.py`: Contains OpenAIEmbeddings class.
  - `chat_models.py`: Contains ChatOpenAI class.
  - `chains.py`: Contains ConversationalRetrievalChain class.
  - `document_loaders.py`: Contains PyPDFLoader class for loading PDFs.
  - `vectorstores.py`: Contains FAISS class for vector storage.
  - `text_splitter.py`: Contains RecursiveCharacterTextSplitter for text splitting.

## How to Use

1. Run the script using the following command:

    ```bash
    streamlit run main.py
    ```

2. Open the app in a web browser and navigate to the sidebar.

3. Enter your OpenAI API key in the text box labeled "OpenAI API key".

4. Upload a PDF document using the file uploader.

5. After uploading, you will see a chat interface where you can ask questions regarding the uploaded PDF.

6. Type your query and press 'Send'. The app will respond with information retrieved from the PDF.

## Functions

### `get_api_and_file()`

Collects the OpenAI API key and uploaded PDF file from the Streamlit sidebar.

### `load_pdf(uploaded_file)`

Reads the uploaded PDF and returns the text content split into manageable chunks.

### `setup_chain(data)`

Sets up the ConversationalRetrievalChain using OpenAIEmbeddings and FAISS.

### `conversational_chat(chain, query)`

Takes a user query and chat history as input and returns an answer generated by the ConversationalRetrievalChain.

### `initialize_state(uploaded_file)`

Initializes the session state variables.

### `chat_interface(chain)`

Displays the chat interface and handles user input.

## Limitations

- Make sure to have a valid OpenAI API key.
- Currently supports only PDF files for document upload.

## Contributing

Feel free to submit pull requests for additional features or bug fixes.

## License

This project is licensed under the MIT License.

## Author

[Shiraf1q84]

For more information, please contact [shiraf1q84@gmail.com].
